{"version":3,"sources":["webpack:///./src/client/componments/todoList/index.js","webpack:///./src/client/componments/todoList/input.js","webpack:///./src/client/componments/todoList/item.js","webpack:///./src/client/componments/todoList/list.js","webpack:///./src/client/pages/home.js","webpack:///./src/client/services/index.js","webpack:///./src/client/store/actions.js"],"names":["TodoList","data","addTodo","toggleTodo","removeTodo","Input","inputRef","useRef","onClick","content","current","value","trim","id","Date","getTime","completed","Item","todo","textDecoration","List","list","map","Home","todos","getInitialProps","props","useEffect","length","loadData","store","dispatch","getTodos","mapStateToProps","state","mapDispatchToProps","type","TODOS_TYPE_ADD","playlod","TODOS_TYPE_TOGGLE","TODOS_TYPE_REMOVE","connect","request","response","Promise","resolve","reject","setTimeout","getUserInfo","name","getTodoList","initTodos","TODOS_TYPE_INIT","setUser","USER_TYPE_SET","then","res","getUser"],"mappings":"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","file":"0.server.js","sourcesContent":["import React from 'react';\nimport Input from './input';\nimport List from './list';\n\nconst TodoList = ({ data, addTodo, toggleTodo, removeTodo  }) => {\n  return (\n    <div>\n      <Input addTodo={addTodo} />\n      <List list={data} toggleTodo={toggleTodo} removeTodo={removeTodo}/>\n    </div>\n  )\n}\n\nexport default TodoList;","import React, { useRef } from 'react';\n\nconst Input = ({ addTodo }) => {\n  const inputRef = useRef(null);\n\n  const onClick = () => {\n    const content = inputRef.current.value.trim();\n\n    addTodo({\n      id: new Date().getTime(),\n      content,\n      completed: false,\n    });\n  };\n  \n  return (\n    <div>\n      <input ref={inputRef} type=\"text\" placeholder=\"请输入待办项\"/> \n      <button onClick={onClick}>提交</button>\n    </div>\n  )\n};\n\nexport default Input;\n","import React from 'react';\n\nconst Item = ({\n  todo,\n  toggleTodo,\n  removeTodo,\n}) => {\n  const { id, content, completed } = todo;\n  \n  return (\n    <div>\n      <input type=\"checkbox\" checked={completed} onChange={() => toggleTodo(id)}/>\n      <span style={{ textDecoration: completed ? 'line-through' : 'none'}}>{content}</span>\n      <button onClick={() => removeTodo(id)}>删除</button>\n    </div>\n  )\n}\n\nexport default Item;\n","import React from 'react';\nimport Item from './item';\n\nconst List = ({\n  list,\n  toggleTodo,\n  removeTodo,\n}) => {\n  return (\n    <div>\n      {\n        list.map(todo => {\n          return (\n            <Item\n              key={todo.id}\n              todo={todo}\n              toggleTodo={toggleTodo}\n              removeTodo={removeTodo}\n            />\n          )\n        })\n      }\n    </div>\n  )\n}\n\nexport default List;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Helmet from 'react-helmet';\nimport TodoList from '../componments/todoList';\nimport { TODOS_TYPE_ADD, TODOS_TYPE_REMOVE, TODOS_TYPE_TOGGLE } from '../store/types';\nimport { getTodos } from '../store/actions';\n\nconst Home = ({ todos, getInitialProps, ...props }) => {\n  useEffect(() => {\n    if (todos.length) return;\n    getInitialProps();\n  }, []);\n\n  return (\n    <div className=\"home\">\n      <Helmet>\n        <title>Home</title>\n        <meta name=\"description\" content=\"react ssr demo: todolist\" />\n      </Helmet>\n      <h1>Home</h1>\n      <TodoList data={todos} {...props} />\n    </div>\n  );\n}\n\nHome.loadData = async store => store.dispatch(getTodos());\n\nconst mapStateToProps = state => ({ todos: state.todos });\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getInitialProps: () => dispatch(getTodos()),\n    addTodo: todo => dispatch({ type: TODOS_TYPE_ADD, playlod: todo }),\n    toggleTodo: id => dispatch({ type: TODOS_TYPE_TOGGLE, playlod: id }),\n    removeTodo: id => dispatch({ type: TODOS_TYPE_REMOVE, playlod: id }),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","const request = (response) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => resolve(response), 100);\n  });\n}\n\nexport const getUserInfo = () => request({ data: { name: 'Jonh' } });\n\nexport const getTodoList = () => request({ data: [{ id: 1, completed: true, content: 'ssr' }] });\n","import { TODOS_TYPE_INIT, USER_TYPE_SET } from './types';\nimport { getTodoList, getUserInfo } from '../services';\n\nexport const initTodos = playlod => ({ type: TODOS_TYPE_INIT, playlod });\nexport const setUser = playlod => ({ type: USER_TYPE_SET, playlod });\n\nexport const getTodos = () => {\n  return dispatch => {\n    return getTodoList().then(res => dispatch(initTodos(res.data)));\n  }\n};\n\nexport const getUser = () => {\n  return dispatch => {\n    return getUserInfo().then(res => dispatch(setUser(res.data)));\n  }\n};\n"],"sourceRoot":""}